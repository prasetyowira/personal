---
import { getLocalizedUrl, useTranslations } from '@utils/i18n';

const { locale } = Astro.props;
const t = useTranslations(locale);

// Get the current path without locale prefix to use for language switching
const pathname = Astro.url.pathname;
const currentPath = locale === 'en' 
  ? pathname 
  : pathname.replace(/^\/ja/, '');

---

<div class="flex items-center space-x-4">
  <a 
    href={getLocalizedUrl('en', currentPath)} 
    class={`text-sm font-medium transition-colors ${locale === 'en' ? 'text-blue-600 dark:text-blue-400' : 'text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400'}`}
  >
    {t('language.en')}
  </a>
  <a 
    href={getLocalizedUrl('ja', currentPath)} 
    class={`text-sm font-medium transition-colors ${locale === 'ja' ? 'text-blue-600 dark:text-blue-400' : 'text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400'}`}
  >
    {t('language.ja')}
  </a>
</div> 